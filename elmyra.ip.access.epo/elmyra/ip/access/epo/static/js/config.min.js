// (c) 2013-2016 Elmyra UG - All rights reserved
IpsuiteNavigatorConfig=Backbone.Model.extend({defaults:{mode:void 0,context:"default",project:"ad-hoc",datasource:"ops","ship-param":"payload"},initialize:function(t){var a=this;t=t||{},this._originalAttributes=_.clone(this.attributes),_.each(_.keys(t),function(i){var e=t[i];e&&a.set(i,e)}),this.uri=$.url(window.location.href),this.update_baseurl()},update_baseurl:function(){var t=this.uri,a=t.attr("protocol")+"://"+t.attr("host"),i=t.attr("path");t.attr("port")&&(a+=":"+t.attr("port")),"/"!=i&&(a+=i),this.set("baseurl",a)},history_pushstate:function(){var t=this.uri.param(),a={mode:this.get("mode"),context:this.get("context"),project:this.get("project"),datasource:this.get("datasource")};this.uri.param("op")||_.each(a,function(a,i){this._originalAttributes[i]!=a&&(t[i]=a)},this),_.each(t,function(a,i){_.isEmpty(a)&&delete t[i]}),_.isEmpty(t)||history.pushState({id:"url-state"},"","?"+jQuery.param(t))}});