// (c) 2013-2016 Elmyra UG - All rights reserved
NavigatorConfiguration=Backbone.Model.extend({defaults:{mode:void 0,context:"default",project:"ad-hoc",datasource:"ops","ship-param":"payload"},initialize:function(t){var e=this;console.log("Initialize NavigatorConfiguration"),t=t||{},this._originalAttributes=_.clone(this.attributes),_.each(_.keys(t),function(i){var a=t[i];a&&e.set(i,a)}),this.uri=$.url(window.location.href),this.update_baseurl()},update_baseurl:function(){var t=this.uri,e=t.attr("protocol")+"://"+t.attr("host"),i=t.attr("path");t.attr("port")&&(e+=":"+t.attr("port")),"/"==i||_.string.startsWith(i,"/view")||(e+=i),this.set("baseurl",e)},history_pushstate:function(){var t=this.uri.param(),e={mode:this.get("mode"),context:this.get("context"),project:this.get("project"),datasource:this.get("datasource")};this.uri.param("op")||_.each(e,function(e,i){this._originalAttributes[i]!=e&&(t[i]=e)},this),_.each(t,function(e,i){_.isEmpty(e)&&delete t[i]}),_.isEmpty(t)||history.pushState({id:"url-state"},"","?"+jQuery.param(t))}}),NavigatorTheme=Backbone.Model.extend({defaults:{header_background_url:null},initialize:function(){console.log("Initialize NavigatorTheme"),this.get("config").get("embedded")||this.set("header_background_url","/static/img/header-small.jpg")}});